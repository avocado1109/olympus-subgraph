type Treasury @entity {
  id: ID!
  bondDeposits: [Deposit!]! @derivedFrom(field: "treasury")
  bondWithdrawals: [Redemption!]! @derivedFrom(field: "treasury")
  daiBondTotalDeposit : BigDecimal
  ohmDaiSlpTotalDeposit : BigDecimal
  dailyBonds: [DailyBond!]! @derivedFrom(field: "treasury")
  dailyStackingRewards: [DailyStackingReward!]! @derivedFrom(field: "treasury")
  ohmies: [Ohmie!]!
}

type DailyBond @entity {
  id: ID!
  treasury: Treasury!
  timestamp: BigInt!
  token: Token!
  amount: BigDecimal!
}

type Ohmie @entity {
  "address of user account"
  id: ID!
  bondDeposits: [Deposit!]! @derivedFrom(field: "ohmie")
  bondRedemptions: [Redemption!]! @derivedFrom(field: "ohmie")
  sentOhmTransactions: [OhmTransaction!]! @derivedFrom(field: "ohmieFrom")
  receivedOhmTransactions: [OhmTransaction!]! @derivedFrom(field: "ohmieTo")
  sentSohmTransactions: [SohmTransaction!]! @derivedFrom(field: "ohmieFrom")
  receivedSohmTransactions: [SohmTransaction!]! @derivedFrom(field: "ohmieTo")
  stakeTransactions: [Stake!]! @derivedFrom(field: "ohmie")
  unstakeTransactions: [Unstake!]! @derivedFrom(field: "ohmie")
  receivedRebases: [OhmieRebase!]! @derivedFrom(field: "ohmie")
  daiBondTotalDeposit: BigDecimal
  ohmDaiSlpTotalDeposit: BigDecimal
  ohmBalance: BigDecimal
  sohmBalance: BigDecimal
  stakedOHMs: BigDecimal
  stakedRewards: BigDecimal
  treasury: Treasury!
}

type Deposit @entity {
  id: ID!
  transaction: Transaction!
  ohmie: Ohmie!
  amount: BigDecimal!
  maxPremium: BigDecimal!
  token: Token!
  treasury: Treasury!
  timestamp: BigInt!
}

type Redemption @entity {
  id: ID!
  transaction: Transaction
  ohmie: Ohmie
  token: Token
  treasury: Treasury
  amount: BigDecimal
  timestamp: BigInt
}

type Transaction @entity {
  "transaction hash"
  id: ID!
  timestamp: BigInt!
  blockNumber: BigInt!
  blockHash: Bytes!
  from: Bytes!
  to: Bytes
  value: BigInt!
  gasUsed: BigInt!
  gasPrice: BigInt!
}

type OhmTransaction @entity {
  id: ID!
  transaction: Transaction!
  ohmieTo: Ohmie!
  ohmieFrom: Ohmie!
  amount: BigDecimal!
  timestamp: BigInt!
}

type SohmTransaction @entity {
  id: ID!
  transaction: Transaction!
  ohmieTo: Ohmie!
  ohmieFrom: Ohmie!
  amount: BigDecimal!
  timestamp: BigInt!
}

type Token @entity {
  id: ID!
  name: String!
  address: Bytes!
}

type Rebase @entity {
  id: ID!
  transaction: String!
  amount: BigDecimal!
  stakedOhms: BigDecimal!
  percentage: BigDecimal!
  timestamp: BigInt!
}

type DailyStackingReward @entity {
  id: ID!
  treasury: Treasury!
  timestamp: BigInt!
  amount: BigDecimal!
}

type Stake @entity {
  id: ID!
  transaction: Transaction!
  ohmie: Ohmie!
  amount: BigDecimal!
  timestamp: BigInt!
}

type Unstake @entity {
  id: ID!
  transaction: Transaction!
  ohmie: Ohmie!
  amount: BigDecimal!
  timestamp: BigInt!
}

type OhmieRebase @entity {
  id: ID!
  timestamp: BigInt!
  ohmie: Ohmie!
  percentage: BigDecimal!
  amount: BigDecimal!
}